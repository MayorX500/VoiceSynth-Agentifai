<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Standalone - Intlex documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../architecture.html"><strong aria-hidden="true">2.</strong> Architecture</a></li><li class="chapter-item expanded "><a href="../app_flow.html"><strong aria-hidden="true">3.</strong> App Flow</a></li><li class="chapter-item expanded "><a href="../requirements.html"><strong aria-hidden="true">4.</strong> Requirements</a></li><li class="chapter-item expanded "><a href="../installation/index.html"><strong aria-hidden="true">5.</strong> How to Install</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../installation/docker.html"><strong aria-hidden="true">5.1.</strong> Docker</a></li><li class="chapter-item expanded "><a href="../installation/standalone.html"><strong aria-hidden="true">5.2.</strong> Standalone</a></li></ol></li><li class="chapter-item expanded "><a href="../usage/index.html"><strong aria-hidden="true">6.</strong> How to Use</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../usage/docker.html"><strong aria-hidden="true">6.1.</strong> Docker</a></li><li class="chapter-item expanded "><a href="../usage/standalone.html"><strong aria-hidden="true">6.2.</strong> Standalone</a></li></ol></li><li class="chapter-item expanded "><a href="../updating.html"><strong aria-hidden="true">7.</strong> How to Update</a></li><li class="chapter-item expanded "><a href="../components/index.html"><strong aria-hidden="true">8.</strong> Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../components/app_standalone.html" class="active"><strong aria-hidden="true">8.1.</strong> Standalone</a></li><li class="chapter-item expanded "><a href="../components/app.html"><strong aria-hidden="true">8.2.</strong> App Frontend</a></li><li class="chapter-item expanded "><a href="../components/app_api.html"><strong aria-hidden="true">8.3.</strong> App API</a></li><li class="chapter-item expanded "><a href="../components/app_client.html"><strong aria-hidden="true">8.4.</strong> App Client</a></li><li class="chapter-item expanded "><a href="../components/app_normalizer.html"><strong aria-hidden="true">8.5.</strong> App Normalizer</a></li><li class="chapter-item expanded "><a href="../components/app_proxy.html"><strong aria-hidden="true">8.6.</strong> App Proxy</a></li><li class="chapter-item expanded "><a href="../components/app_server.html"><strong aria-hidden="true">8.7.</strong> App Server</a></li></ol></li><li class="chapter-item expanded "><a href="../improvements.html"><strong aria-hidden="true">9.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="../closing.html"><strong aria-hidden="true">10.</strong> Closing Notes</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Intlex documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="intlex-standalone-module"><a class="header" href="#intlex-standalone-module">Intlex Standalone Module</a></h2>
<p>The Intlex Module serves as the standalone implementation of the text-to-speech system, allowing users to directly process text and generate audio files without using the microservices architecture. It provides flexibility for single-instance use cases.</p>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<p>To use the Intlex Module, you can run the following command:</p>
<pre><code class="language-bash">python intlex.py [TEXT] [CONFIG] --output [OUTPUT] --lang [LANG] --kwargs [KWARGS]
</code></pre>
<p>The output will be saved in the output file if provided, otherwise it will be stored in the default output file.</p>
<h4 id="arguments-and-options"><a class="header" href="#arguments-and-options">Arguments and Options</a></h4>
<ul>
<li><code>TEXT</code>: Text to be synthesized (required) </li>
<li><code>CONFIG</code>: Configuration file (optional)</li>
<li><code>OUTPUT</code>: Output file (optional)</li>
<li><code>LANG</code>: Language [pt, en] (optional)</li>
<li><code>KWARGS</code>: Additional arguments (optional)</li>
</ul>
<h4 id="options"><a class="header" href="#options">Options:</a></h4>
<h5 id="configuration-file"><a class="header" href="#configuration-file">Configuration File</a></h5>
<p>The configuration file contains the settings for the synthesis process, such as the voice to clone, model information and configuration. If not provided, the default configuration will be used.</p>
<pre><code class="language-json">{
  &quot;normalization_config&quot;: &quot;config/normalization_rules.toml&quot;,
  &quot;audio_path&quot;: {
    &quot;pt&quot;: &quot;inputs/voices/marcelo.wav&quot;,
    &quot;en&quot;: &quot;inputs/voices/eng_morgan_freeman.wav&quot;
  },
  &quot;storage_directory&quot;: &quot;inputs/voices&quot;,
  &quot;xtts_config&quot;: &quot;model/training/GPT_XTTS_Finetuned/config.json&quot;,
  &quot;model&quot;: {
    &quot;checkpoint_dir&quot;: null,
    &quot;eval&quot;: true,
    &quot;strict&quot;: true,
    &quot;speaker_file_path&quot;: null,
    &quot;checkpoint_path&quot;: &quot;model/training/GPT_XTTS_Finetuned/best_model.pth&quot;,
    &quot;vocab_path&quot;: &quot;model/training/XTTS_v2.0_original_model_files/vocab.json&quot;,
    &quot;use_deepspeed&quot;: false
  }
}
</code></pre>
<p>Each field in the configuration file is described below:</p>
<ul>
<li>
<p><code>normalization_config</code>: Path to the normalization configuration file to be used by the model</p>
</li>
<li>
<p><code>audio_path</code>: Default input voices for conversion, the field is a dictionary with the keys being the voices' languages and the values being the paths to the audio files</p>
<ul>
<li><code>pt</code>: Path to the Portuguese reference audio file</li>
<li><code>en</code>: Path to the English reference audio file</li>
</ul>
</li>
<li>
<p><code>storage_directory</code>: Path to the folder where the reference audio files are stored</p>
</li>
<li>
<p><code>xtts_config</code>: Path to the XTTS configuration file to be used by the trained model</p>
</li>
<li>
<p><code>model</code>: Model configuration to be used for conversion, the fields are according to the trained model to facilitate configuration</p>
<ul>
<li><code>checkpoint_dir</code>: Path to the directory where the model checkpoints are stored</li>
<li><code>eval</code>: Whether the model is in evaluation mode</li>
<li><code>strict</code>: Whether to strictly enforce the model configuration</li>
<li><code>speaker_file_path</code>: Path to the file containing the speaker information</li>
<li><code>checkpoint_path</code>: Path to the model checkpoint file</li>
<li><code>vocab_path</code>: Path to the vocabulary file</li>
<li><code>use_deepspeed</code>: Whether to use DeepSpeed for training</li>
</ul>
</li>
</ul>
<h5 id="language"><a class="header" href="#language">Language</a></h5>
<p>The language option allows the user to specify the language of the text to be synthesized. The available languages are:</p>
<ul>
<li><code>pt</code>: Portuguese</li>
<li><code>en</code>: English</li>
</ul>
<p>The model suports more languages, but the available voices are only in Portuguese and English. If the user wants to use another language, they must provide the voice file and update the configuration file accordingly.</p>
<h5 id="additional-arguments-for-the-voice-synthesis"><a class="header" href="#additional-arguments-for-the-voice-synthesis">Additional Arguments for the voice synthesis</a></h5>
<p>The <code>kwargs</code> option allows the user to specify additional arguments for the voice synthesis process. The available arguments are:</p>
<ul>
<li><code>length_penalty</code>: Length penalty for the synthesis process</li>
<li><code>repetition_penalty</code>: Repetition penalty for the synthesis process</li>
<li><code>top_k</code>: Top k tokens to consider for the synthesis process</li>
<li><code>top_p</code>: Top p tokens to consider for the synthesis process</li>
<li><code>do_sample</code>: Whether to sample the tokens</li>
<li><code>temperature</code>: Temperature for the sampling process</li>
</ul>
<p>The default values for the additional arguments are:</p>
<pre><code class="language-json">{
  &quot;length_penalty&quot;: 1.0,
  &quot;repetition_penalty&quot;: 2.5,
  &quot;top_k&quot;: 40,
  &quot;top_p&quot;: 0.5,
  &quot;do_sample&quot;: true,
  &quot;temperature&quot;: 0.7
}
</code></pre>
<p>The format for the <code>kwargs</code> option is a dictionary with the keys being the argument names and the values being the argument values.</p>
<pre><code class="language-bash">py intlex.py TEXT --kwargs '{&quot;temperature&quot;:0.01,&quot;top_p&quot;:0.4,&quot;top_k&quot;:60}'
</code></pre>
<p>This will set the temperature to 0.01, top_p to 0.4 and top_k to 60.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>To synthesize the text &quot;Hello, World!&quot; in English, you can run the following command:</p>
<pre><code class="language-bash">python intlex.py &quot;Hello, World!&quot; --lang en
</code></pre>
<p>This will generate an audio file with the synthesized speech in English.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../components/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../components/app.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../components/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../components/app.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
